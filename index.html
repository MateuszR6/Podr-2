<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Podróż Gosi i Mateusza</title>
  <!-- Leaflet.js CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <!-- Leaflet.js JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Bootstrap (Optional for styling) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    #map {
      height: 400px;
      width: 100%;
    }
    .section {
      margin: 20px;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
    .btn-large {
      font-size: 1.2em;
      padding: 10px 20px;
    }
  </style>
</head>
<body>
  <header class="p-3 bg-primary text-white text-center">
    <h1>Podróż Gosi i Mateusza</h1>
  </header>

  <!-- Section: Mapa -->
  <div class="section" id="map-section">
    <h2>Mapa</h2>
    <div id="map"></div>
  </div>

  <!-- Section: Lista punktów -->
  <div class="section" id="points-section">
    <h2>Punkty</h2>
    <ul id="points-list">
      <!-- Points will be dynamically added here -->
    </ul>
  </div>

  <!-- Section: Dodaj trasę -->
  <div class="section" id="add-route-section">
    <h2>Dodaj trasę</h2>
    <form id="add-route-form">
      <label for="start-point">Punkt początkowy:</label>
      <select id="start-point"></select>
      <label for="end-point">Punkt końcowy:</label>
      <select id="end-point"></select>
      <label for="departure-time">Data i godzina odjazdu:</label>
      <input type="datetime-local" id="departure-time">
      <label for="arrival-time">Data i godzina przyjazdu:</label>
      <input type="datetime-local" id="arrival-time">
      <label for="route-cost">Koszt (w zł/euro):</label>
      <input type="number" id="route-cost" step="0.01">
      <button type="button" class="btn btn-primary btn-large">Dodaj trasę</button>
    </form>
  </div>

  <!-- Section: Lista tras -->
  <div class="section" id="routes-section">
    <h2>Trasy</h2>
    <ul id="routes-list">
      <!-- Routes will be dynamically added here -->
    </ul>
  </div>

  <!-- Section: Koszty łącznie -->
  <div class="section" id="total-costs-section">
    <h2>Koszty łącznie</h2>
    <div id="total-costs">
      <!-- Summary of costs will be displayed here -->
    </div>
  </div>

  <!-- Section: Koszty dodatkowe -->
  <div class="section" id="extra-costs-section">
    <h2>Koszty dodatkowe</h2>
    <form id="add-extra-cost-form">
      <label for="extra-cost-description">Opis kosztu:</label>
      <input type="text" id="extra-cost-description">
      <label for="extra-cost-value">Koszt (w zł/euro):</label>
      <input type="number" id="extra-cost-value" step="0.01">
      <button type="button" class="btn btn-primary btn-large">Dodaj koszt</button>
    </form>
    <ul id="extra-costs-list">
      <!-- Extra costs will be dynamically added here -->
    </ul>
  </div>

  <script>
    // Initialize the map
    const map = L.map('map').setView([51.505, -0.09], 13); // Default view
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // Example for adding markers
    const points = [];
    map.on('click', (e) => {
      const { lat, lng } = e.latlng;
      const pointName = prompt('Enter point name:');
      if (!pointName) return;

      const point = { id: Date.now(), lat, lng, name: pointName };
      points.push(point);

      // Add marker to map
      L.marker([lat, lng]).addTo(map).bindPopup(pointName).openPopup();

      // Update points list
      const pointsList = document.getElementById('points-list');
      const li = document.createElement('li');
      li.textContent = pointName;
      pointsList.appendChild(li);
    });

    // Add functionality to other sections (e.g., routes, costs, etc.) here
  </script>
</body>
</html>
